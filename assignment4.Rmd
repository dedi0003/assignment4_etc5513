---
title: "Zomato - Best of Melbourne Analysis"
author:
- familyname: Editya
  othernames: Dea Avega
  address: Monash University
  email: XXX
  correspondingauthor: true
  qualifications: Master of BA 
- familyname: Qasim
  othernames: Muhammad Soban
  address: Monash University
  qualifications: Master of BA
- familyname: Sinha 
  othernames: Abhishek
  address: Monash University
  email: XXX
  correspondingauthor: true
  qualifications:  Master of BA
- familyname: Vu 
  othernames: Vinny
  address: Monash University
  email: vvuu0009@student.monash.edu
  correspondingauthor: true
  qualifications:  Master of BA
department: Our consultancy \newline add names &\newline add names
organization: ETC5513 Collaborative and Reproductible Practices 
bibliography: references.bib
biblio-style: authoryear-comp
linestretch: 1.5
output:
  bookdown::pdf_document2:
    template: monashreport2.tex
    fig_caption: yes
    fig_height: 5
    fig_width: 8
    includes:
      in_header: preamble.tex
    keep_tex: yes
    number_sections: yes
    citation_package: biblatex
    toc: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      cache=FALSE, 
                      messages=FALSE, 
                      warning=FALSE)

```

\clearpage

\section*{Introduction} 

In this report we have used the following packages @tidyverse, @romato, @kableExtra, @knitr. 

\section*{Is expensive food better than cheap food?}

```{r , include=FALSE}
library(romato)
library(tidyverse)
library(knitr)
library(kableExtra)
```

```{r , include=FALSE}
zmt <- zomato$new("1623b413d3a1614e765de7578f83a10b") #assign API key
```

```{r , include=FALSE}
# pull data for category "Best of Melbourne" using Melbourne ID "259"
melb <- zmt$search(entity_id = "259", entity_type = "city", category = "Best of Melbourne") 

melb_top100 <- melb %>% 
  mutate(aggregate_rating = as.numeric(aggregate_rating), price_range = as.numeric(price_range), longitude = as.numeric(longitude), latitude = as.numeric(latitude))


melb_top100


```

```{r , include=FALSE}
melb_top100_filter <- melb_top100 %>%  
  select(name, cuisines, average_cost_for_two, price_range, establishment,all_reviews_count, locality, aggregate_rating, rating_text, address) %>%
  mutate(establishment = as.character(establishment))


melb_top100_filter %>%
  arrange(desc(aggregate_rating)) %>% 
  head(20)
```

In this section we will be using the Zomato Best of Melbourne to explore whether expensive food is "better" than cheap food. To conduct this analysis, we will be looking at:

* What is considered cheap and expensive food
* What the breakdown of price ranges of the restaurants is
* Comparing prices and aggregate ratings 
* Determining whether there is a relationship between prices and ratings

### What is considered cheap and expensive food?

```{r price-ranges,fig.cap= "Price Ranges"}
melb_top100_filter %>%
  mutate(price_range = as.factor(price_range)) %>%
  ggplot(aes(reorder(x=price_range, average_cost_for_two), 
             y = average_cost_for_two, 
             fill = price_range)) +
  geom_boxplot() + 
  labs(title = "Price Ranges",
       x = "Price Range",
       y = "Average Cost for Two",
       fill = "Price Range")
```

From Figure \@ref(fig:price-ranges) we can see Zomato breaks down price ranges into 4 categories with 4 being the most expensive to 1 being the least expensive.

```{r ,include=FALSE}
price_range <- melb_top100_filter %>%
  group_by(price_range) %>%
  summarise(Maximum = max(average_cost_for_two),
            Median = median(average_cost_for_two),
            Minimum = min(average_cost_for_two),
            Range = max(average_cost_for_two)-min(average_cost_for_two))

```

```{r price-range-table, fig.cap= "Price Ranges"}

price_range %>% rename(`Price Range` = price_range) %>% 
  kable(caption = "Price Ranges") %>%
  kable_styling(bootstrap_options = "striped")
  
```

From Table \@ref(tab:price-range-table) we can see the range of prices that make up each price category.



